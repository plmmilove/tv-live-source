(()=>{var t={148:t=>{"use strict";t.exports=require("axios")},371:(t,e,a)=>{const c=a(148),i=a(735);t.exports={platform:"无忧",version:"1.0.0",cacheControl:"no-cache",cache:new Map,async search(t,e,a){if("music"===a)return t=encodeURIComponent(t),{isEnd:!1,data:await this.getMusicList(`https://www.qeecc.com/so/${t}/${e}.html`)}},async getMusicInfo(t){const e=(await c.get(`https://www.qeecc.com/song/${t.id}.html`)).data;return{duration:300,artwork:i.load(e)("#mcover").attr("src")}},async getMediaSource(t,e){return{url:(await this.getPostData(t.id)).url,quality:"standard"}},async getLyric(t){const e=(await this.getPostData(t.id)).lkid;if(!e)return null;const a=await fetch(`https://js.eev3.com/lrc.php?cid=${e}`,{headers:{accept:"application/json, text/javascript, */*; q=0.01","accept-language":"zh-CN,zh;q=0.9,ko;q=0.8","cache-control":"no-cache",pragma:"no-cache",priority:"u=1, i","sec-ch-ua":'"Not)A;Brand";v="8", "Chromium";v="138", "Google Chrome";v="138"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Windows"',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"cross-site"},body:null,method:"GET",mode:"cors",credentials:"omit"});let c=await a.text();return c=JSON.parse(c),{rawLrc:c.lrc}},async getRecommendSheetTags(){const t=(await c.get("https://www.qeecc.com/playtype/index.html")).data,e=i.load(t),a=[];return e("div.ilingku_fl").each((t,c)=>{const i=e(c).find("li:eq(0)").text().trim().slice(0,-1).trim(),s=e(c).find("li > a"),r=[];s.each((t,a)=>{const c=e(a),i=c.attr("href"),s=c.text(),o=i.slice(10,-5);r.push({id:o,title:s})}),a.push({title:i,data:r})}),{pinned:a.length>0?a[0].data:[],data:a}},async getRecommendSheetsByTag(t,e){let a=`https://www.qeecc.com/playtype/${t.id}/${e}.html`;const s=(await c.get(a)).data,r=i.load(s),o=[],n=r("div.video_list > ul.play > li");for(let t=0;t<n.length&&t<5;t++){const e=r(n[t]),a=e.find("div.pic > a").attr("href"),c=a.slice(10,-5),i=e.find("div.name > a").attr("title"),s=e.find("div.pic > a > img").attr("src"),h=await this.getMusicList(`https://www.qeecc.com${a}`);o.push({id:c,title:i,coverImg:s,artwork:s,musicList:h})}return{isEnd:!0,data:o}},async getMusicList(t){const e=(await c.get(t)).data,a=i.load(e),s=[];return a(".play_list > ul > li > div.name").each((t,e)=>{const c=a(e).find("a"),i=c.attr("href"),r=c.text(),o=i.slice(6,-5),n=r.substring(r.indexOf("《")+1,r.indexOf("》")).trim(),h=r.substring(0,r.indexOf("《")).trim();s.push({id:o,title:n,artist:h,duration:300,platform:this.platform})}),s},async getPostData(t){let e=this.cache.get(t);if(!e){const a=await fetch("https://www.qeecc.com/js/play.php",{headers:{accept:"application/json, text/javascript, */*; q=0.01","accept-language":"zh-CN,zh;q=0.9","content-type":"application/x-www-form-urlencoded; charset=UTF-8",priority:"u=1, i","sec-ch-ua":'"Not)A;Brand";v="8", "Chromium";v="138", "Google Chrome";v="138"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Windows"',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","x-requested-with":"XMLHttpRequest",Referer:`https://www.qeecc.com/song/${t}.html`},body:"id="+t+"&type=music",method:"POST"});e=await a.text(),e=JSON.parse(e),100===this.cache.size&&this.cache.delete(this.cache.keys().next().value),this.cache.set(t,e)}return e}}},735:t=>{"use strict";t.exports=require("cheerio")}},e={},a=function a(c){var i=e[c];if(void 0!==i)return i.exports;var s=e[c]={exports:{}};return t[c](s,s.exports,a),s.exports}(371);module.exports=a})();
