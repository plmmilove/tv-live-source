(()=>{var t={148:t=>{"use strict";t.exports=require("axios")},304:(t,e,a)=>{const c=a(148),r=a(735);t.exports={platform:"歌曲海",version:"1.0.0",cacheControl:"no-cache",cache:new Map,async search(t,e,a){if("music"===a){t=encodeURIComponent(t);const e=(await c.get(`https://www.gequhai.com/s/${t}`)).data,a=r.load(e),i=[];return a("#myTables").find("tbody > tr").each((t,e)=>{const c=a(e).find("td:eq(1) > a"),r=a(e).find("td:eq(2)"),s=c.attr("href").slice(6),o=c.text().trim(),n=r.text().trim();i.push({id:s,title:o,artist:n})}),{isEnd:!0,data:i}}},async getMusicInfo(t){const e=await this.getDetailHtml(t.id),a=e.match(/mp3_cover\s*=\s*['"]([^'"]+)['"]/),c=e.match(/mp3_title\s*=\s*['"]([^'"]+)['"]/);return{artist:e.match(/mp3_author\s*=\s*['"]([^'"]+)['"]/)[1],title:c[1],duration:300,artwork:a[1]}},async getMediaSource(t,e){const a=(await this.getDetailHtml(t.id)).match(/play_id\s*=\s*['"]([^'"]+)['"]/);if(!a)throw new Error("无法找到播放ID");let r={method:"post",maxBodyLength:1/0,url:"https://www.gequhai.com/api/music",headers:{accept:"application/json, text/javascript, */*; q=0.01","accept-language":"zh-CN,zh;q=0.9,ko;q=0.8","cache-control":"no-cache","content-type":"application/x-www-form-urlencoded; charset=UTF-8",origin:"https://www.gequhai.com",pragma:"no-cache",priority:"u=1, i","sec-ch-ua":'"Not)A;Brand";v="8", "Chromium";v="138", "Google Chrome";v="138"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Windows"',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","x-custom-header":"SecretKey","x-requested-with":"XMLHttpRequest"},data:`id=${encodeURIComponent(a[1])}`};return{url:(await c.request(r)).data.data.url,quality:"standard"}},async getLyric(t){const e=await this.getDetailHtml(t.id);return{rawLrc:r.load(e)("#content-lrc2").text()}},async getDetailHtml(t){const e=this.cache.get(t);if(e)return e;{const e=(await c.get(`https://www.gequhai.com/play/${t}`)).data;return 100===this.cache.size&&this.cache.delete(this.cache.keys().next().value),this.cache.set(t,e),e}}}},735:t=>{"use strict";t.exports=require("cheerio")}},e={},a=function a(c){var r=e[c];if(void 0!==r)return r.exports;var i=e[c]={exports:{}};return t[c](i,i.exports,a),i.exports}(304);module.exports=a})();
